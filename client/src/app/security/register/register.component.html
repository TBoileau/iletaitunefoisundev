<form [formGroup]="registerForm" #formDir="ngForm" (ngSubmit)="onSubmit()">
  <div *ngIf="registerForm.invalid && (registerForm.dirty || registerForm.touched)">
    <div *ngIf="registerForm.hasError('custom')">
      {{ registerForm.errors?.['custom'] }}
    </div>
  </div>
  <input type="email" formControlName="email">
  <div *ngIf="controls['email'].invalid && (controls['email'].dirty || controls['email'].touched)">
    <div *ngIf="controls['email'].hasError('custom')">
      {{ controls['email'].errors?.['custom'] }}
    </div>
    <div *ngIf="controls['email'].hasError('required')">
      Ce champ est obligatoire
    </div>
    <div *ngIf="controls['email'].hasError('email')">
      L'adresse email n'est pas valide.
    </div>
  </div>
  <input type="password" formControlName="plainPassword">
  <div *ngIf="controls['plainPassword'].invalid && (controls['plainPassword'].dirty || controls['plainPassword'].touched)">
    <div *ngIf="controls['plainPassword'].hasError('custom')">
      {{ controls['plainPassword'].errors?.['custom'] }}
    </div>
    <div *ngIf="controls['plainPassword'].hasError('required')">
      Ce champ est obligatoire
    </div>
    <div *ngIf="controls['plainPassword'].hasError('pattern')">
      Le mot de passe doit respecter les contraintes suivantes :<br/>
      - 8 caractères minimum <br/>
      - Au moins 1 majuscule <br/>
      - Au moins 1 minuscule <br/>
      - Au moins 1 caractère spécial <br/>
    </div>
  </div>
  <button type="submit" [disabled]="registerForm.invalid">Submit</button>
</form>
